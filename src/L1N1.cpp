/*
*/

#include "Player.h"
#include "AdInput.h"
#include "AdSpriteManager.h"

#include "nodes/L1N1.h"

//-----------------------------------------------------------------------------
L1N1::L1N1(void) {}

//-----------------------------------------------------------------------------
L1N1::~L1N1(void) {}

//-----------------------------------------------------------------------------
void L1N1::Init(void) {
	AdWorldNode::Init();

	int pIndices[23*40] = {
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x1C1,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x1C1,0x1C1,0x1C1,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x1C1,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x1C1,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,
		0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181,0x181
	};

	int i;
	for(i=0; i<23*40; i++) {
		m_pIndices[i] = pIndices[i];
	}

	m_pBackground = AdSpriteManager::BuildSprite(
		40, 23, m_pIndices
	);
}

//-----------------------------------------------------------------------------
void L1N1::Quit(void) {
	AdWorldNode::Quit();
}

//-----------------------------------------------------------------------------
void L1N1::Update(class AdInput* pInput) {
	AdWorldNode::Update(pInput);

	Player::Update();
	if(pInput->m_bUp)    Player::m_pntPosition.y--;
	if(pInput->m_bDown)  Player::m_pntPosition.y++;
	if(pInput->m_bLeft)  Player::m_pntPosition.x--;
	if(pInput->m_bRight) Player::m_pntPosition.x++;

	// TODO: implement a basic collision system
	
}

//-----------------------------------------------------------------------------
void L1N1::Render(SDL_Point pnt) {
	AdWorldNode::Render(pnt);
}
